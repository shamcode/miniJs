function jsObject(){this.currentObject=void 0,this.clone=function(){return function(a){var b=a instanceof Array?[]:{};for(var c in a)b[c]=typeof a[c]=="object"?arguments.callee(a[c]):a[c];return b}(this.currentObject)},this.equal=function(a){return function(a,b){if(a==void 0||b==void 0)return a==b;if(a.length!=b.length)return!1;for(var c in a)if(typeof a[c]=="object"){if(!b[c]||!arguments.callee(a[c],b[c]))return!1}else if(typeof a[c]=="function"){if(a[c]+""!=b[c]+"")return!1}else if(a[c]!==b[c])return!1;return a.length==void 0&&a+""!=b+""?!1:!0}(this.currentObject,a)},this.in=function(a){for(var b in a)if(this.equal(a[b]))return!0;return!1},this.alert=function(a,b){var c="";for(var d in this.currentObject)c+=b?miniJs.object(d).in(a)?"":d+"="+(this.currentObject[d]+"")+"\n":a?miniJs.object(d).in(a)?d+"="+(this.currentObject[d]+"")+"\n":"":d+"="+(this.currentObject[d]==void 0?"":this.currentObject[d]+"")+"\n";alert(c)},this.set=function(a,b){for(var c in a){if(b&&this.currentObject[c]!==void 0)continue;typeof a[c]=="object"?(this.currentObject[c]==void 0&&(this.currentObject[c]=a[c]instanceof Array?[]:{}),miniJs.object(this.currentObject[c]).set(a[c])):this.currentObject[c]=typeof a[c]=="function"?miniJs.function(a[c]).clone():a[c]}},this.with=function(){miniJs.this=this.currentObject}}function jsArray(){this.currentArray=void 0,this.clone=function(){return this.currentArray.slice(0)},this.equal=function(a){return miJs.object(this.currentArray).equal(a)},this.alert=function(){var a="";for(var b in this.currentArray)a+=b+"="+(this.currentArray[b]+"")+"\n";alert(a)},this.map=function(a){if(this.currentArray.map!==void 0)return this.currentArray.map(a);var b=[];for(var c in this.currentArray)b.push(a(this.currentArray[c]));return b},this.filter=function(a){if(this.currentArray.filter!==void 0)return this.currentArray.filter(a);var b=[];for(var c in this.currentArray)a(this.currentArray[c])&&b.push(this.currentArray);return b},this.uniq=function(){var a=[];for(var b in this.currentArray)if(!miJs.object(this.currentArray[b]).in(a)){var c=0;for(var d in this.currentArray)if(c+=miJs.object(this.currentArray[b]).equal(this.currentArray[d])?1:0,c>1){a.push(this.currentArray[b]);break}c==1&&a.push(this.currentArray[b])}return a},this.delete=function(a){return this.filter(function(b){return!miJs.object(b).equal(a)})}}function jsFunction(){this.currentFunction=void 0,this.cache=function(){var a=this.currentFunction,b=function(){for(var c in b.base.argument)if(b.base.argument[c].hasOwnProperty(c)&&miniJs.object(b.base.argument[c]).equal(arguments))return b.base.retValue[c];b.base.argument.push(arguments);var d=a.apply(this,arguments);return b.base.retValue.push(d),d};return b.base={argument:[],retValue:[]},b},this.log=function(){var a=this.currentFunction,b=function(){var c=a.apply(this,arguments);b.log.push({args:arguments,ret:c})};return b.log=[],b},this.clone=function(){var a=this.currentFunction,b=function(){return a.apply({},arguments)};for(var d in this.currentFunction)b[d]=typeof this.currentFunction[d]=="object"?miJs.object(this.currentFunction[d]).clone():this.currentFunction[d];return b}}miJs=miniJs=new function(){var a=new jsObject;this.object=function(b){return a.currentObject=b,a};var b=new jsFunction;this.function=function(a){return b.currentFunction=a,b};var c=new jsArray;this.array=function(a){return c.currentArray=a,c},this.this=void 0}